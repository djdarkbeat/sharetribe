<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: PaypalService::MerchantActions
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "PaypalService::MerchantActions";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../PaypalService.html" title="PaypalService (module)">PaypalService</a></span></span>
     &raquo; 
    <span class="title">MerchantActions</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: PaypalService::MerchantActions
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="Merchant.html" title="PaypalService::Merchant (class)">Merchant</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/services/paypal_service/merchant_actions.rb</dd>
  </dl>
  
</div>


  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="PAYMENT_ACTIONS-constant" class="">PAYMENT_ACTIONS =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span> <span class='label'>sale:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sale</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>order:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Order</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>authorization:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Authorization</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span></pre></dd>
      
        <dt id="NEW_CHECKOUT_UI-constant" class="">NEW_CHECKOUT_UI =
          <div class="docstring">
  <div class="discussion">
    
<p>Use either the default old checkout UI or the new paypal checkout experience</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='kw'>false</span></pre></dd>
      
        <dt id="SANDBOX_EC_URL-constant" class="">SANDBOX_EC_URL =
          <div class="docstring">
  <div class="discussion">
    
<p>URLs for the new paypal checkout UI</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://www.sandbox.paypal.com/checkoutnow</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="LIVE_EC_URL-constant" class="">LIVE_EC_URL =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://www.paypal.com/checkoutnow</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="TOKEN_PARAM-constant" class="">TOKEN_PARAM =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>token</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="MERCHANT_ACTIONS-constant" class="">MERCHANT_ACTIONS =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='label'>setup_billing_agreement:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='lbrace'>{</span>
        <span class='label'>SetExpressCheckoutRequestDetails:</span> <span class='lbrace'>{</span>
          <span class='label'>ReturnURL:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:success</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>CancelURL:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:cancel</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>ReqConfirmShipping:</span> <span class='int'>0</span><span class='comma'>,</span>
          <span class='label'>NoShipping:</span> <span class='int'>1</span><span class='comma'>,</span>
          <span class='label'>AllowNote:</span> <span class='int'>0</span><span class='comma'>,</span>
          <span class='label'>PaymentDetails:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span>
              <span class='label'>OrderTotal:</span> <span class='lbrace'>{</span> <span class='label'>value:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.0</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
              <span class='label'>NotifyURL:</span> <span class='id identifier rubyid_hook_url'>hook_url</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:ipn_hook</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
              <span class='label'>PaymentAction:</span> <span class='const'><span class='object_link'><a href="#PAYMENT_ACTIONS-constant" title="PaypalService::MerchantActions::PAYMENT_ACTIONS (constant)">PAYMENT_ACTIONS</a></span></span><span class='lbracket'>[</span><span class='symbol'>:authorization</span><span class='rbracket'>]</span>
            <span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>BillingAgreementDetails:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span>
              <span class='label'>BillingType:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ChannelInitiatedBilling</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
              <span class='label'>BillingAgreementDescription:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:description</span><span class='rbracket'>]</span>
            <span class='rbrace'>}</span><span class='rbracket'>]</span>
        <span class='rbrace'>}</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_set_express_checkout</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:set_express_checkout</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_setup_billing_agreement_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_setup_billing_agreement_response-class_method" title="PaypalService::DataTypes::Merchant.create_setup_billing_agreement_response (method)">create_setup_billing_agreement_response</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
        <span class='label'>token:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_token'>token</span><span class='comma'>,</span>
        <span class='label'>redirect_url:</span> <span class='id identifier rubyid_express_checkout_url'>express_checkout_url</span><span class='lparen'>(</span><span class='id identifier rubyid_api'>api</span><span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>username_to:</span> <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span> <span class='op'>||</span> <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_username'>username</span>
      <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>

  <span class='label'>create_billing_agreement:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='lbrace'>{</span> <span class='label'>Token:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:token</span><span class='rbracket'>]</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_create_billing_agreement</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:create_billing_agreement</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_create_billing_agreement_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_create_billing_agreement_response-class_method" title="PaypalService::DataTypes::Merchant.create_create_billing_agreement_response (method)">create_create_billing_agreement_response</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
        <span class='label'>billing_agreement_id:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_billing_agreement_id'>billing_agreement_id</span>
      <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>

  <span class='label'>do_reference_transaction:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='lbrace'>{</span>
        <span class='label'>DoReferenceTransactionRequestDetails:</span> <span class='lbrace'>{</span>
          <span class='label'>ReferenceID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:billing_agreement_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>PaymentAction:</span> <span class='const'><span class='object_link'><a href="#PAYMENT_ACTIONS-constant" title="PaypalService::MerchantActions::PAYMENT_ACTIONS (constant)">PAYMENT_ACTIONS</a></span></span><span class='lbracket'>[</span><span class='symbol'>:sale</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>PaymentType:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>InstantOnly</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
          <span class='label'>PaymentDetails:</span> <span class='lbrace'>{</span>
            <span class='label'>ButtonSource:</span> <span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:button_source</span><span class='rbracket'>]</span><span class='comma'>,</span>
            <span class='label'>NotifyURL:</span> <span class='id identifier rubyid_hook_url'>hook_url</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:ipn_hook</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='label'>OrderTotal:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:payment_total</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
            <span class='label'>InvoiceID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:invnum</span><span class='rbracket'>]</span><span class='comma'>,</span>
            <span class='label'>PaymentDetailsItem:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span>
                <span class='label'>ItemCategory:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Digital</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'>#Commissions are always digital goods, enables also micropayments
</span>                <span class='label'>Name:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:name</span><span class='rbracket'>]</span><span class='comma'>,</span>
                <span class='label'>Description:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:desc</span><span class='rbracket'>]</span><span class='comma'>,</span>
                <span class='label'>Number:</span> <span class='int'>0</span><span class='comma'>,</span>
                <span class='label'>Quantity:</span> <span class='int'>1</span><span class='comma'>,</span>
                <span class='label'>Amount:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:payment_total</span><span class='rbracket'>]</span><span class='rparen'>)</span>
            <span class='rbrace'>}</span><span class='rbracket'>]</span>
          <span class='rbrace'>}</span><span class='comma'>,</span>
          <span class='label'>MsgSubID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:msg_sub_id</span><span class='rbracket'>]</span>
        <span class='rbrace'>}</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_do_reference_transaction</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:do_reference_transaction</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='id identifier rubyid_details'>details</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_do_reference_transaction_response_details'>do_reference_transaction_response_details</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_do_reference_transaction_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_do_reference_transaction_response-class_method" title="PaypalService::DataTypes::Merchant.create_do_reference_transaction_response (method)">create_do_reference_transaction_response</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
        <span class='label'>billing_agreement_id:</span> <span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_billing_agreement_id'>billing_agreement_id</span><span class='comma'>,</span>
        <span class='label'>payment_id:</span> <span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_transaction_id'>transaction_id</span><span class='comma'>,</span>
        <span class='label'>payment_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_gross_amount'>gross_amount</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>payment_date:</span> <span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_payment_date'>payment_date</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
        <span class='label'>fee:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_fee_amount'>fee_amount</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>payment_status:</span> <span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_payment_status'>payment_status</span><span class='comma'>,</span>
        <span class='label'>pending_reason:</span> <span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_pending_reason'>pending_reason</span><span class='comma'>,</span>
        <span class='label'>username_to:</span> <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span> <span class='op'>||</span> <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_username'>username</span>
      <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>

  <span class='label'>get_express_checkout_details:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='lbrace'>{</span> <span class='label'>Token:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:token</span><span class='rbracket'>]</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_get_express_checkout_details</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:get_express_checkout_details</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='id identifier rubyid_details'>details</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_get_express_checkout_details_response_details'>get_express_checkout_details_response_details</span>
      <span class='id identifier rubyid_shipping_address'>shipping_address</span> <span class='op'>=</span> <span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_payment_details'>payment_details</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_ship_to_address'>ship_to_address</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_get_express_checkout_details_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_get_express_checkout_details_response-class_method" title="PaypalService::DataTypes::Merchant.create_get_express_checkout_details_response (method)">create_get_express_checkout_details_response</a></span></span><span class='lparen'>(</span>
        <span class='lbrace'>{</span>
          <span class='label'>token:</span> <span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_token'>token</span><span class='comma'>,</span>
          <span class='label'>checkout_status:</span> <span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_checkout_status'>checkout_status</span><span class='comma'>,</span>
          <span class='label'>billing_agreement_accepted:</span> <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_billing_agreement_accepted_status'>billing_agreement_accepted_status</span><span class='comma'>,</span>
          <span class='label'>payer:</span> <span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_payer_info'>payer_info</span><span class='period'>.</span><span class='id identifier rubyid_payer'>payer</span><span class='comma'>,</span>
          <span class='label'>payer_id:</span> <span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_payer_info'>payer_info</span><span class='period'>.</span><span class='id identifier rubyid_payer_id'>payer_id</span><span class='comma'>,</span>
          <span class='label'>order_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_payment_details'>payment_details</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_order_total'>order_total</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>shipping_address_status:</span> <span class='id identifier rubyid_shipping_address'>shipping_address</span><span class='period'>.</span><span class='id identifier rubyid_address_status'>address_status</span><span class='comma'>,</span>
          <span class='label'>shipping_address_city:</span> <span class='id identifier rubyid_shipping_address'>shipping_address</span><span class='period'>.</span><span class='id identifier rubyid_city_name'>city_name</span><span class='comma'>,</span>
          <span class='label'>shipping_address_country:</span> <span class='id identifier rubyid_shipping_address'>shipping_address</span><span class='period'>.</span><span class='id identifier rubyid_country_name'>country_name</span><span class='comma'>,</span>
          <span class='label'>shipping_address_country_code:</span> <span class='id identifier rubyid_shipping_address'>shipping_address</span><span class='period'>.</span><span class='id identifier rubyid_country'>country</span><span class='comma'>,</span>
          <span class='label'>shipping_address_name:</span> <span class='id identifier rubyid_shipping_address'>shipping_address</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
          <span class='label'>shipping_address_phone:</span> <span class='id identifier rubyid_shipping_address'>shipping_address</span><span class='period'>.</span><span class='id identifier rubyid_phone'>phone</span><span class='comma'>,</span>
          <span class='label'>shipping_address_postal_code:</span> <span class='id identifier rubyid_shipping_address'>shipping_address</span><span class='period'>.</span><span class='id identifier rubyid_postal_code'>postal_code</span><span class='comma'>,</span>
          <span class='label'>shipping_address_state_or_province:</span> <span class='id identifier rubyid_shipping_address'>shipping_address</span><span class='period'>.</span><span class='id identifier rubyid_state_or_province'>state_or_province</span><span class='comma'>,</span>
          <span class='label'>shipping_address_street1:</span> <span class='id identifier rubyid_shipping_address'>shipping_address</span><span class='period'>.</span><span class='id identifier rubyid_street1'>street1</span><span class='comma'>,</span>
          <span class='label'>shipping_address_street2:</span> <span class='id identifier rubyid_shipping_address'>shipping_address</span><span class='period'>.</span><span class='id identifier rubyid_street2'>street2</span>
        <span class='rbrace'>}</span>
      <span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>

  <span class='comment'># Deprecated - Order flow will be removed soon
</span>  <span class='comment'>#
</span>  <span class='label'>set_express_checkout_order:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='id identifier rubyid_req_details'>req_details</span> <span class='op'>=</span> <span class='lbrace'>{</span>
        <span class='label'>cppcartbordercolor:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FFFFFF</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>cpplogoimage:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:merchant_brand_logo_url</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>ReturnURL:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:success</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>CancelURL:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:cancel</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>ReqConfirmShipping:</span> <span class='int'>0</span><span class='comma'>,</span>
        <span class='label'>NoShipping:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:require_shipping_address</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='int'>1</span><span class='comma'>,</span>
        <span class='label'>SolutionType:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sole</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>LandingPage:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Billing</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>InvoiceID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:invnum</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>AllowNote:</span> <span class='int'>0</span><span class='comma'>,</span>
        <span class='label'>MaxAmount:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:order_total</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>PaymentDetails:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span>
          <span class='label'>NotifyURL:</span> <span class='id identifier rubyid_hook_url'>hook_url</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:ipn_hook</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>OrderTotal:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:order_total</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>ItemTotal:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_price</span><span class='rbracket'>]</span> <span class='op'>*</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_quantity</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>PaymentAction:</span> <span class='const'><span class='object_link'><a href="#PAYMENT_ACTIONS-constant" title="PaypalService::MerchantActions::PAYMENT_ACTIONS (constant)">PAYMENT_ACTIONS</a></span></span><span class='lbracket'>[</span><span class='symbol'>:order</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>PaymentDetailsItem:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span>
            <span class='label'>Name:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_name</span><span class='rbracket'>]</span><span class='comma'>,</span>
            <span class='label'>Quantity:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_quantity</span><span class='rbracket'>]</span><span class='comma'>,</span>
            <span class='label'>Amount:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_price</span><span class='rbracket'>]</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span><span class='rbracket'>]</span>
        <span class='rbrace'>}</span><span class='rbracket'>]</span>
      <span class='rbrace'>}</span>

      <span class='kw'>if</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_total</span><span class='rbracket'>]</span><span class='rparen'>)</span>
         <span class='id identifier rubyid_req_details'>req_details</span><span class='lbracket'>[</span><span class='symbol'>:PaymentDetails</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:ShippingTotal</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_total</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>

      <span class='lbrace'>{</span> <span class='label'>SetExpressCheckoutRequestDetails:</span> <span class='id identifier rubyid_req_details'>req_details</span> <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_set_express_checkout</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:set_express_checkout</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_set_express_checkout_order_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_set_express_checkout_order_response-class_method" title="PaypalService::DataTypes::Merchant.create_set_express_checkout_order_response (method)">create_set_express_checkout_order_response</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
        <span class='label'>token:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_token'>token</span><span class='comma'>,</span>
        <span class='label'>redirect_url:</span> <span class='id identifier rubyid_append_useraction_commit'>append_useraction_commit</span><span class='lparen'>(</span><span class='id identifier rubyid_express_checkout_url'>express_checkout_url</span><span class='lparen'>(</span><span class='id identifier rubyid_api'>api</span><span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>receiver_username:</span> <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span> <span class='op'>||</span> <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_username'>username</span>
      <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>
  <span class='comment'>#
</span>  <span class='comment'># /Deprecated
</span>
  <span class='label'>set_express_checkout_authorization:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='id identifier rubyid_req_details'>req_details</span> <span class='op'>=</span> <span class='lbrace'>{</span>
        <span class='label'>cppcartbordercolor:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FFFFFF</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>cpplogoimage:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:merchant_brand_logo_url</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>ReturnURL:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:success</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>CancelURL:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:cancel</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>ReqConfirmShipping:</span> <span class='int'>0</span><span class='comma'>,</span>
        <span class='label'>NoShipping:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:require_shipping_address</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='int'>1</span><span class='comma'>,</span>
        <span class='label'>SolutionType:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sole</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>LandingPage:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Billing</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>InvoiceID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:invnum</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>AllowNote:</span> <span class='int'>0</span><span class='comma'>,</span>
        <span class='label'>MaxAmount:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:order_total</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>PaymentDetails:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span>
          <span class='label'>NotifyURL:</span> <span class='id identifier rubyid_hook_url'>hook_url</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:ipn_hook</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>OrderTotal:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:order_total</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>ItemTotal:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_price</span><span class='rbracket'>]</span> <span class='op'>*</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_quantity</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>PaymentAction:</span> <span class='const'><span class='object_link'><a href="#PAYMENT_ACTIONS-constant" title="PaypalService::MerchantActions::PAYMENT_ACTIONS (constant)">PAYMENT_ACTIONS</a></span></span><span class='lbracket'>[</span><span class='symbol'>:authorization</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>PaymentDetailsItem:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span>
            <span class='label'>Name:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_name</span><span class='rbracket'>]</span><span class='comma'>,</span>
            <span class='label'>Quantity:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_quantity</span><span class='rbracket'>]</span><span class='comma'>,</span>
            <span class='label'>Amount:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_price</span><span class='rbracket'>]</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span><span class='rbracket'>]</span>
        <span class='rbrace'>}</span><span class='rbracket'>]</span>
      <span class='rbrace'>}</span>

      <span class='kw'>if</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_total</span><span class='rbracket'>]</span><span class='rparen'>)</span>
         <span class='id identifier rubyid_req_details'>req_details</span><span class='lbracket'>[</span><span class='symbol'>:PaymentDetails</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:ShippingTotal</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_total</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>

      <span class='lbrace'>{</span> <span class='label'>SetExpressCheckoutRequestDetails:</span> <span class='id identifier rubyid_req_details'>req_details</span> <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_set_express_checkout</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:set_express_checkout</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_set_express_checkout_order_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_set_express_checkout_order_response-class_method" title="PaypalService::DataTypes::Merchant.create_set_express_checkout_order_response (method)">create_set_express_checkout_order_response</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
        <span class='label'>token:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_token'>token</span><span class='comma'>,</span>
        <span class='label'>redirect_url:</span> <span class='id identifier rubyid_append_useraction_commit'>append_useraction_commit</span><span class='lparen'>(</span><span class='id identifier rubyid_express_checkout_url'>express_checkout_url</span><span class='lparen'>(</span><span class='id identifier rubyid_api'>api</span><span class='comma'>,</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>receiver_username:</span> <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span> <span class='op'>||</span> <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_username'>username</span>
      <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>

  <span class='label'>do_express_checkout_payment:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='id identifier rubyid_req_details'>req_details</span> <span class='op'>=</span> <span class='lbrace'>{</span>
        <span class='label'>PaymentAction:</span> <span class='id identifier rubyid_payment_action_str'>payment_action_str</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:payment_action</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>Token:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:token</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>PayerID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:payer_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>ButtonSource:</span> <span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:button_source</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>PaymentDetails:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span>
          <span class='label'>InvoiceID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:invnum</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>NotifyURL:</span> <span class='id identifier rubyid_hook_url'>hook_url</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:ipn_hook</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>OrderTotal:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:order_total</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>ItemTotal:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_price</span><span class='rbracket'>]</span> <span class='op'>*</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_quantity</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>PaymentDetailsItem:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span>
            <span class='label'>Name:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_name</span><span class='rbracket'>]</span><span class='comma'>,</span>
            <span class='label'>Quantity:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_quantity</span><span class='rbracket'>]</span><span class='comma'>,</span>
            <span class='label'>Amount:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:item_price</span><span class='rbracket'>]</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span><span class='rbracket'>]</span>
        <span class='rbrace'>}</span><span class='rbracket'>]</span>
      <span class='rbrace'>}</span>

      <span class='kw'>if</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_total</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_req_details'>req_details</span><span class='lbracket'>[</span><span class='symbol'>:PaymentDetails</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:ShippingTotal</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_total</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_req_details'>req_details</span><span class='lbracket'>[</span><span class='symbol'>:PaymentDetails</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:ShipToAddress</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span>
          <span class='label'>Name:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_address_name</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>Phone:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_address_phone</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>Street1:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_address_street1</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>Street2:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_address_street2</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>PostalCode:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_address_postal_code</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>CityName:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_address_city</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>StateOrProvince:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_address_state_or_province</span><span class='rbracket'>]</span><span class='comma'>,</span>
          <span class='label'>Country:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:shipping_address_country_code</span><span class='rbracket'>]</span>
        <span class='rbrace'>}</span>
      <span class='kw'>end</span>

      <span class='lbrace'>{</span> <span class='label'>DoExpressCheckoutPaymentRequestDetails:</span> <span class='id identifier rubyid_req_details'>req_details</span> <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_do_express_checkout_payment</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:do_express_checkout_payment</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='id identifier rubyid_payment_info'>payment_info</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_do_express_checkout_payment_response_details'>do_express_checkout_payment_response_details</span><span class='period'>.</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>

      <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_pending_reason'>pending_reason</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>order</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_do_express_checkout_payment_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_do_express_checkout_payment_response-class_method" title="PaypalService::DataTypes::Merchant.create_do_express_checkout_payment_response (method)">create_do_express_checkout_payment_response</a></span></span><span class='lparen'>(</span>
          <span class='lbrace'>{</span>
            <span class='label'>order_date:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_payment_date'>payment_date</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
            <span class='label'>payment_status:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_payment_status'>payment_status</span><span class='comma'>,</span>
            <span class='label'>pending_reason:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_pending_reason'>pending_reason</span><span class='comma'>,</span>
            <span class='label'>order_id:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_transaction_id'>transaction_id</span><span class='comma'>,</span>
            <span class='label'>order_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_gross_amount'>gross_amount</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_do_express_checkout_payment_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_do_express_checkout_payment_response-class_method" title="PaypalService::DataTypes::Merchant.create_do_express_checkout_payment_response (method)">create_do_express_checkout_payment_response</a></span></span><span class='lparen'>(</span>
          <span class='lbrace'>{</span>
            <span class='label'>authorization_date:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_payment_date'>payment_date</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
            <span class='label'>payment_status:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_payment_status'>payment_status</span><span class='comma'>,</span>
            <span class='label'>pending_reason:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_pending_reason'>pending_reason</span><span class='comma'>,</span>
            <span class='label'>authorization_id:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_transaction_id'>transaction_id</span><span class='comma'>,</span>
            <span class='label'>authorization_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_gross_amount'>gross_amount</span><span class='rparen'>)</span>
          <span class='rbrace'>}</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>

  <span class='label'>do_authorization:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='lbrace'>{</span>
        <span class='label'>MsgSubID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:msg_sub_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>TransactionID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:order_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>Amount:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:authorization_total</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_do_authorization</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:do_authorization</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_do_authorization_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_do_authorization_response-class_method" title="PaypalService::DataTypes::Merchant.create_do_authorization_response (method)">create_do_authorization_response</a></span></span><span class='lparen'>(</span><span class='lbrace'>{</span>
        <span class='label'>authorization_id:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_transaction_id'>transaction_id</span><span class='comma'>,</span>
        <span class='label'>payment_status:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_authorization_info'>authorization_info</span><span class='period'>.</span><span class='id identifier rubyid_payment_status'>payment_status</span><span class='comma'>,</span>
        <span class='label'>pending_reason:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_authorization_info'>authorization_info</span><span class='period'>.</span><span class='id identifier rubyid_pending_reason'>pending_reason</span><span class='comma'>,</span>
        <span class='label'>authorization_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_amount'>amount</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>authorization_date:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_timestamp'>timestamp</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
        <span class='label'>msg_sub_id:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_msg_sub_id'>msg_sub_id</span>
      <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>

  <span class='label'>do_capture:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='lbrace'>{</span>
        <span class='label'>AuthorizationID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:authorization_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>Amount:</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:payment_total</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>InvoiceID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:invnum</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>CompleteType:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Complete</span><span class='tstring_end'>&quot;</span></span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_do_capture</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:do_capture</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='id identifier rubyid_payment_info'>payment_info</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_do_capture_response_details'>do_capture_response_details</span><span class='period'>.</span><span class='id identifier rubyid_payment_info'>payment_info</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_do_full_capture_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_do_full_capture_response-class_method" title="PaypalService::DataTypes::Merchant.create_do_full_capture_response (method)">create_do_full_capture_response</a></span></span><span class='lparen'>(</span>
        <span class='lbrace'>{</span>
          <span class='label'>authorization_id:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_do_capture_response_details'>do_capture_response_details</span><span class='period'>.</span><span class='id identifier rubyid_authorization_id'>authorization_id</span><span class='comma'>,</span>
          <span class='label'>payment_id:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_transaction_id'>transaction_id</span><span class='comma'>,</span>
          <span class='label'>payment_status:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_payment_status'>payment_status</span><span class='comma'>,</span>
          <span class='label'>pending_reason:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_pending_reason'>pending_reason</span><span class='comma'>,</span>
          <span class='label'>payment_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_gross_amount'>gross_amount</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>fee_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_fee_amount'>fee_amount</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>payment_date:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_payment_date'>payment_date</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
        <span class='rbrace'>}</span>
      <span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>

  <span class='label'>do_void:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='lbrace'>{</span>
        <span class='label'>AuthorizationID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:transaction_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>Note:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:note</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>MsgSubID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:msg_sub_id</span><span class='rbracket'>]</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_do_void</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:do_void</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_do_void_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_do_void_response-class_method" title="PaypalService::DataTypes::Merchant.create_do_void_response (method)">create_do_void_response</a></span></span><span class='lparen'>(</span>
        <span class='lbrace'>{</span>
          <span class='label'>voided_id:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_authorization_id'>authorization_id</span><span class='comma'>,</span>
          <span class='label'>msg_sub_id:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_msg_sub_id'>msg_sub_id</span>
        <span class='rbrace'>}</span>
      <span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>

  <span class='label'>refund_transaction:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='lbrace'>{</span>
        <span class='label'>TransactionID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:payment_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='label'>RefundType:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Full</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>RefundSource:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>default</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>MsgSubID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:msg_sub_id</span><span class='rbracket'>]</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_refund_transaction</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:refund_transaction</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_refund_transaction_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_refund_transaction_response-class_method" title="PaypalService::DataTypes::Merchant.create_refund_transaction_response (method)">create_refund_transaction_response</a></span></span><span class='lparen'>(</span>
        <span class='lbrace'>{</span>
          <span class='label'>refunded_id:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='const'>RefundTransactionID</span><span class='comma'>,</span>
          <span class='label'>refunded_fee_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='const'>FeeRefundAmount</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>refunded_net_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='const'>NetRefundAmount</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>refunded_gross_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='const'>GrossRefundAmount</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>refunded_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='const'>TotalRefundedAmount</span><span class='rparen'>)</span><span class='comma'>,</span>
          <span class='label'>msg_sub_id:</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='const'>MsgSubID</span>
        <span class='rbrace'>}</span>
      <span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span><span class='comma'>,</span>

  <span class='label'>get_transaction_details:</span> <span class='const'><span class='object_link'><a href="PaypalAction.html" title="PaypalService::PaypalAction (module)">PaypalAction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_def_action'><span class='object_link'><a href="PaypalAction.html#def_action-class_method" title="PaypalService::PaypalAction.def_action (method)">def_action</a></span></span><span class='lparen'>(</span>
    <span class='label'>input_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='id identifier rubyid__'>_</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='lbrace'>{</span>
        <span class='label'>TransactionID:</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='symbol'>:transaction_id</span><span class='rbracket'>]</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>wrapper_method_name:</span> <span class='symbol'>:build_get_transaction_details</span><span class='comma'>,</span>
    <span class='label'>action_method_name:</span> <span class='symbol'>:get_transaction_details</span><span class='comma'>,</span>
    <span class='label'>output_transformer:</span> <span class='tlambda'>-&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_api'>api</span><span class='rparen'>)</span> <span class='tlambeg'>{</span>
      <span class='id identifier rubyid_payment_info'>payment_info</span> <span class='op'>=</span> <span class='id identifier rubyid_res'>res</span><span class='period'>.</span><span class='id identifier rubyid_payment_transaction_details'>payment_transaction_details</span><span class='period'>.</span><span class='id identifier rubyid_payment_info'>payment_info</span>
      <span class='const'><span class='object_link'><a href="DataTypes.html" title="PaypalService::DataTypes (module)">DataTypes</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="DataTypes/Merchant.html" title="PaypalService::DataTypes::Merchant (module)">Merchant</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create_get_transaction_details_response'><span class='object_link'><a href="DataTypes/Merchant.html#create_get_transaction_details_response-class_method" title="PaypalService::DataTypes::Merchant.create_get_transaction_details_response (method)">create_get_transaction_details_response</a></span></span><span class='lparen'>(</span>
        <span class='lbrace'>{</span>
          <span class='label'>transaction_id:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_transaction_id'>transaction_id</span><span class='comma'>,</span>
          <span class='label'>payment_status:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_payment_status'>payment_status</span><span class='comma'>,</span>
          <span class='label'>pending_reason:</span> <span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_pending_reason'>pending_reason</span><span class='comma'>,</span>
          <span class='label'>transaction_total:</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_payment_info'>payment_info</span><span class='period'>.</span><span class='id identifier rubyid_gross_amount'>gross_amount</span><span class='rparen'>)</span>
        <span class='rbrace'>}</span>
      <span class='rparen'>)</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span>
<span class='rbrace'>}</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#append_useraction_commit-class_method" title="append_useraction_commit (class method)">.<strong>append_useraction_commit</strong>(url_str)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#express_checkout_url-class_method" title="express_checkout_url (class method)">.<strong>express_checkout_url</strong>(api, token)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#from_money-class_method" title="from_money (class method)">.<strong>from_money</strong>(m)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Convert between a Money instance and corresponding Paypal API presentation pp API present amounts as hash-like objects, e.g.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hook_url-class_method" title="hook_url (class method)">.<strong>hook_url</strong>(ipn_hook)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#payment_action_str-class_method" title="payment_action_str (class method)">.<strong>payment_action_str</strong>(payment_action_symbol)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_money-class_method" title="to_money (class method)">.<strong>to_money</strong>(pp_amount)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="append_useraction_commit-class_method">
  
    .<strong>append_useraction_commit</strong>(url_str)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/services/paypal_service/merchant_actions.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_append_useraction_commit'>append_useraction_commit</span><span class='lparen'>(</span><span class='id identifier rubyid_url_str'>url_str</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../URLUtils.html" title="URLUtils (module)">URLUtils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_append_query_param'><span class='object_link'><a href="../URLUtils.html#append_query_param-class_method" title="URLUtils.append_query_param (method)">append_query_param</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_url_str'>url_str</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>useraction</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>commit</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="express_checkout_url-class_method">
  
    .<strong>express_checkout_url</strong>(api, token)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49
50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/services/paypal_service/merchant_actions.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_express_checkout_url'>express_checkout_url</span><span class='lparen'>(</span><span class='id identifier rubyid_api'>api</span><span class='comma'>,</span> <span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="#NEW_CHECKOUT_UI-constant" title="PaypalService::MerchantActions::NEW_CHECKOUT_UI (constant)">NEW_CHECKOUT_UI</a></span></span>
    <span class='id identifier rubyid_endpoint'>endpoint</span> <span class='op'>=</span> <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_endpoint'>endpoint</span> <span class='op'>==</span> <span class='symbol'>:sandbox</span><span class='rparen'>)</span>
      <span class='const'><span class='object_link'><a href="../URLUtils.html" title="URLUtils (module)">URLUtils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_append_query_param'><span class='object_link'><a href="../URLUtils.html#append_query_param-class_method" title="URLUtils.append_query_param (method)">append_query_param</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#SANDBOX_EC_URL-constant" title="PaypalService::MerchantActions::SANDBOX_EC_URL (constant)">SANDBOX_EC_URL</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="#TOKEN_PARAM-constant" title="PaypalService::MerchantActions::TOKEN_PARAM (constant)">TOKEN_PARAM</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='const'><span class='object_link'><a href="../URLUtils.html" title="URLUtils (module)">URLUtils</a></span></span><span class='period'>.</span><span class='id identifier rubyid_append_query_param'><span class='object_link'><a href="../URLUtils.html#append_query_param-class_method" title="URLUtils.append_query_param (method)">append_query_param</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#LIVE_EC_URL-constant" title="PaypalService::MerchantActions::LIVE_EC_URL (constant)">LIVE_EC_URL</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="#TOKEN_PARAM-constant" title="PaypalService::MerchantActions::TOKEN_PARAM (constant)">TOKEN_PARAM</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_api'>api</span><span class='period'>.</span><span class='id identifier rubyid_express_checkout_url'>express_checkout_url</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="from_money-class_method">
  
    .<strong>from_money</strong>(m)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Convert between a Money instance and corresponding Paypal API presentation pp API present amounts as hash-like objects, e.g. : { value: “17.12”, currencyID: “EUR” }</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/services/paypal_service/merchant_actions.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_from_money'>from_money</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
  <span class='lbrace'>{</span> <span class='label'>value:</span> <span class='const'><span class='object_link'><a href="../MoneyUtil.html" title="MoneyUtil (module)">MoneyUtil</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_dot_separated_str'><span class='object_link'><a href="../MoneyUtil.html#to_dot_separated_str-class_method" title="MoneyUtil.to_dot_separated_str (method)">to_dot_separated_str</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>currencyID:</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_currency'>currency</span><span class='period'>.</span><span class='id identifier rubyid_iso_code'>iso_code</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hook_url-class_method">
  
    .<strong>hook_url</strong>(ipn_hook)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/services/paypal_service/merchant_actions.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hook_url'>hook_url</span><span class='lparen'>(</span><span class='id identifier rubyid_ipn_hook'>ipn_hook</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ipn_hook'>ipn_hook</span><span class='lbracket'>[</span><span class='symbol'>:url</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_ipn_hook'>ipn_hook</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="payment_action_str-class_method">
  
    .<strong>payment_action_str</strong>(payment_action_symbol)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/services/paypal_service/merchant_actions.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_payment_action_str'>payment_action_str</span><span class='lparen'>(</span><span class='id identifier rubyid_payment_action_symbol'>payment_action_symbol</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#PAYMENT_ACTIONS-constant" title="PaypalService::MerchantActions::PAYMENT_ACTIONS (constant)">PAYMENT_ACTIONS</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_payment_action_symbol'>payment_action_symbol</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_str'>str</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unsupported payment action: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_payment_action_symbol'>payment_action_symbol</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_money-class_method">
  
    .<strong>to_money</strong>(pp_amount)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/services/paypal_service/merchant_actions.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_pp_amount'>pp_amount</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pp_amount'>pp_amount</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_money'>to_money</span><span class='lparen'>(</span><span class='id identifier rubyid_pp_amount'>pp_amount</span><span class='period'>.</span><span class='id identifier rubyid_currency_id'>currency_id</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_pp_amount'>pp_amount</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_pp_amount'>pp_amount</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Feb 11 14:01:43 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.6.2).
</div>

    </div>
  </body>
</html>